<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="style.css">
        <link rel="stylesheet" href="slider.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <title>Swifty Blog</title>
    <style>
        input, textarea, select{
                padding: 0.8rem 1.4rem;
                border-radius: 5px;
                resize: none;
                background: #060634;
                color: aliceblue;
        }
        form small{
            color: #060634;
        }
        form small{
                display: flex;
                justify-content: none;
        }
        .form-section h2{
            margin-top: 40px;
            margin-bottom: auto;
            text-align: center;
            font-size: 40px;
        }
        select{
            color: white;
        }
        .check{
            display: flex;
            flex-direction: row;
            gap: .5rem;
        }
    </style>
</head>
<body>
    <nav>
        <div class="container nav-container">
            <a href="home.html" class="logo"><h3><span><i class="fa-brands fa-swift"></i></span><em>SWIFTY </em></h3></a>
            <ul class="nav-link">
                <li><a href="./blog.html">Blog</a></li>
                <li><a href="./blog.html">Category</a></li>
                <li><a href="./about.html">About</a></li>
                <li><a href="./contact.html">Contact</a></li>
                <li>
                </li>
              </ul>
              <div class="profile">
                  <div class="profile-img">
                      <img src="./Images/profile.jpg" alt="">
              </div>
                  <ul>
                      <li><a href="">Dashboard</a></li>
                      <li><a href="">LogOut</a></li>
                  </ul>
              </div>
            <button class="phone-button open" id="Open"><i class="fa fa-bars"></i></button>
            <button class="phone-button close" id="Close"><i class="fa fa-close"></i></button>
        </div>
    </nav>

    <section class="form-section" enctype="multipart/form-data">
        <div class="container form-section-container">
            <h2 style="color: #1f1fef;">Add Post</h2>
            <div class="message-alert message-alert-success">
                <p>This is a success message</p>
            </div>
            <form id="blogform">
                <input type="text" id="title" placeholder="Title" required>
                <select>
                    <option value="1">Politics</option>
                    <option value="2">Education</option>
                    <option value="3">Sports</option>
                    <option value="4">Fashion</option>
                    <option value="5">Travels</option>
                    <option value="6">Automobiles</option>
                    <option value="7">Technology</option>
                    <option value="8">Marketing</option>
                </select>
                <div class="form-control check" id="check">
                    <input type="checkbox" id="is-featured">
                    <label for="is-featured" checked>Featured</label>
                </div>
                <div class="form-control">
                    <label for="thumb" checked>Add Photos</label>
                    <input type="file" accept="image/*" id="image">
                </div>
                <textarea name="" id="content" rows="6" placeholder="Body"></textarea>
                    <button type="submit" id="btnn">Create Blog Post</button>                
                <small class="">Don't have an account ?<a href="index.html">Sign Up</a></small>
            </form>
        </div>
    </section>


<!-- .......FOOTER -->
<footer>
    <div class="footer-social">
        <a href=""><i class="fa-brands fa-facebook"></i></a>
        <a href=""><i class="fa-brands fa-twitter"></i></a>
        <a href=""><i class="fa-brands fa-instagram"></i></a>
        <a href=""><i class="fa-brands fa-linkedin"></i></a>
        <a href=""><i class="fa-brands fa-discord"></i></a>
    </div>
    <div class="container footer-container">
        <article>
                <h4>Categories</h4>
                <ul>
                    <li><a>Discovery</a></li>
                    <li><a>Technology</a></li>
                    <li><a>Automobiles</a></li>
                    <li><a>Politics</a></li>
                    <li><a>Marketing</a></li>
                    <li><a>Sports</a></li>
                    <li><a>Travels</a></li>
                    <li><a>World</a></li>
                    <li><a>Fashion</a></li>
                </ul>
        </article>
        <article>
                <h4>Support</h4>
                <ul>
                    <li><a href="">Online Support</a></li>
                    <li><a href="">Email</a></li>
                    <li><a href="">Services</a></li>
                    <li><a href="">Blog</a></li>
                    <li><a href="">Contact</a></li>
                </ul>
        </article>
        <article>
                <h4>Permalinks</h4>
                <ul>
                    <li><a href="">Home</a></li>
                    <li><a href="">About</a></li>
                    <li><a href="">Phone Number</a></li>
                    <li><a href="">Social Support</a></li>
                    <li><a href="">Location</a></li>
                </ul>
        </article>
    </div>
    <div class="footer-copy">
      Copyright &copy; HERITAGIFY
    </div>
</footer>
    
</body>
</html>
<script>

  // Function to save blog post to local storage
  function saveBlogPost(title, imageSrc, content) {
      const blogPosts = JSON.parse(localStorage.getItem('blogPosts')) || [];
      
      const blogPost = {
        title: title,
        imageSrc: imageSrc,
        content: content
      };
      
      blogPosts.push(blogPost);
      localStorage.setItem('blogPosts', JSON.stringify(blogPosts));
    }

// Function to convert image to Base64 string
    function convertImageToBase64(image) {
      return new Promise((resolve, reject) => {
        const reader = new FileReader();
        
        reader.onload = () => {
          resolve(reader.result);
        };
        
        reader.onerror = reject;
        
        reader.readAsDataURL(image);
      });
    }

    
    // Handle form submission
    const form = document.getElementById('blogform');
    form.addEventListener('submit', async function(event) {
      event.preventDefault();
      
      const title = document.getElementById('title').value;
      const image = document.getElementById('image').files[0];
      const content = document.getElementById('content').value;
      
      // Perform necessary processing (e.g., upload image)
      const imageSrc = await convertImageToBase64(image);


      // Save blog post to local storage
      saveBlogPost(title, imageSrc, content);
      
      // Clear form fields
      form.reset();
      window.location.href = 'chatty.html';
    });





    // const form = document.getElementById("blogform");

    // document.addEventListener("DOMContentLoaded", function() {
    //   form.addEventListener("submit", function(e) {
    //     e.preventDefault(); // Prevent form submission

    //     const title = document.getElementById("title").value;
    //     const image =document.getElementById("is-thumb").files[0];
    //     const content = document.getElementById("content").value;

    //     // Create a blog post object
    //     const blogPost=  {
    //             title: title,
    //             image: image,
    //             content: content
    //         }
    //    console.log(blogPost.image)
    //         function errand(task){
    //             blogPost.push(task);
    //         }
    //     // Convert the object to JSON string
    //     const blogPostJson = JSON.stringify(blogPost);

    //     // Save the blog post in local storage
    //     localStorage.setItem("blogPost", blogPostJson);

    //     // Clear the form inputs
    //     form.reset();
    //   });
    // });

    
   

</script>
<script src="script.js"></script>